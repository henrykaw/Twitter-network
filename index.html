<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Twitter Network Project</title>
        <script type="text/javascript" src="d3/d3.js"></script>
        <link href='https://fonts.googleapis.com/css?family=Roboto:400,300' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type="text/css" href="style.css">
        <script src="jquery-3.2.1.min.js"></script>
        <script type="text/javascript" src="plotlyjs-bundle_.js"></script>
        <script type="text/javascript" src="figure_.js"></script>
    </head>
    <body>
        <div class="container-top">
            <a>Twitter Network Project<a>
        </div>
        <div id="middle-strip">
            <div id="introduction">
                <h1>Introduction</h1>
                <p>This Website is made for our Twitter Network project in Advanced Project in Digital
                    Media Engineering (02830) at DTU. In this project we have gained access to a large dataset for 
                    mutual replies in 2016. <br> <br>Our goal for this dataset is to give an insight on the network structure
                    and make an interactable Sankey/Alluvail Diagram that shows the changes of the top 100 communities for each 
                    month.
                </p>
                <h1>
                    The Dataset
                </h1>
                <p>
                    The dataset consist of two ids (one for each user) and timestamps that states when they
                    communicated. This data was spread over 55.198 files to a total of 46.5GB. Therefore we
                    created a csv file for each month that contains the two ids and how many times, the two users
                    have communicated during that month. An example of the file structure can be seen below.
                </p>
                <table>
                    <tr>
                        <th>Id 1</th>
                        <th>Id 2</th>
                        <th>Weigth</th>
                    </tr>
                    <tr>
                        <td>2992493282</td>
                        <td>3225117373</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>2264259342</td>
                        <td>2773761983</td>
                        <td>1</td>

                    </tr>
                    <tr>
                        <td>4718065581</td>
                        <td>3235358256</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>127509821</td>
                        <td>1948813832</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>2957441894</td>
                        <td>2901655801</td>
                        <td>5</td>
                    </tr>
                </table>
                <p>
                    The average file size is around 2.8GB with the exception of December, that have a size of 0.9GB.
                    Since the dataset 'only' contain 10% of the total twitter activity, we made a confusion matrix 
                    test if there is an high similarity between months.
                </p>
                <img src="images/confusion_matrix.png">
                <p>
                    Looking at the confusion matrix it's visible that there are some new users for each month,
                    while most remain. Meaning it's likely for us to track users over time and that there are 
                    changes in the networks which we can examine. The last month (December) have a vast difference
                    than all the others, which is likely the result of that the amount of data observation is a thrid
                    compared to the others months and therefore will we exclude the last month.
                </p>
                <h1>Basic Network Statistics</h1>
                <table>
                    <tr>
                        <th>Month</th>
                        <th>Number of Nodes</th>
                        <th>Number of Links</th>
                        <th>Average clustering</th>
                    </tr>
                    <tr>
                        <td>January</td>
                        <td>33,455,916</td>
                        <td>100,462,806</td>
                        <td>0.0529</td>
                    </tr>
                    <tr>
                        <td>February</td>
                        <td>31,510,156</td>
                        <td>92,101,514</td>
                        <td>0.0529</td>
                    </tr>
                    <tr>
                        <td>March</td>
                        <td>32,879,673</td>
                        <td>98,598,768</td>
                        <td>0.0547</td>
                    </tr>
                    <tr>
                        <td>April</td>
                        <td>32,379,573</td>
                        <td>95,061,371</td>
                        <td>0.0542</td>
                    </tr>
                    <tr>
                        <td>May</td>
                        <td>32,724,774</td>
                        <td>97,420,295</td>
                        <td>0.0549</td>
                    </tr>
                    <tr>
                        <td>June</td>
                        <td>32,757,898</td>
                        <td>96,838,066</td>
                        <td>0.0539</td>
                    </tr>
                </table>
            </div>
            <div id="testContent">
            </div>
  
        <div id="Degreee">
                <h1>Degree distrubution</h1>
                <p> The slideshow shows the degree distrubution of the network on a log scale and on a scale showing the number of nodes with k links.
                </p>
        </div>
         <div class="degree_log" align="center">
            <img class="mySlideslog" src="images/degree_distribution_loglog_01.png" style="width:50%">
            <img class="mySlideslog" src="images/degree_distribution_loglog_02.png" style="width:50%">
            <img class="mySlideslog" src="images/degree_distribution_loglog_03.png" style="width:50%">
            <img class="mySlideslog" src="images/degree_distribution_loglog_04.png" style="width:50%">
            <img class="mySlideslog" src="images/degree_distribution_loglog_05.png" style="width:50%">
            <img class="mySlideslog" src="images/degree_distribution_loglog_06.png" style="width:50%">
            <img class="mySlideslog" src="images/degree_distribution_loglog_07.png" style="width:50%">
            <img class="mySlideslog" src="images/degree_distribution_loglog_08.png" style="width:50%">
            <img class="mySlideslog" src="images/degree_distribution_loglog_09.png" style="width:50%">
            <img class="mySlideslog" src="images/degree_distribution_loglog_10.png" style="width:50%">
            <img class="mySlideslog" src="images/degree_distribution_loglog_11.png" style="width:50%">
            <img class="mySlideslog" src="images/degree_distribution_loglog_12.png" style="width:50%">


            <button class="degree_log-left" onclick="plusDivs1(-1)">&#10094;</button>
            <button class="degree_log-right" onclick="plusDivs1(1)">&#10095;</button>
        </div>


         <div class="degree_norm" align="center">
            <img class="mySlides" src="images/distributions/picture1.png" style="width:50%">
            <img class="mySlides" src="images/distributions/picture2.png" style="width:50%">
            <img class="mySlides" src="images/distributions/picture3.png" style="width:50%">
            <img class="mySlides" src="images/distributions/picture4.png" style="width:50%">
            <img class="mySlides" src="images/distributions/picture5.png" style="width:50%">
            <img class="mySlides" src="images/distributions/picture6.png" style="width:50%">
            <img class="mySlides" src="images/distributions/picture7.png" style="width:50%">
            <img class="mySlides" src="images/distributions/picture8.png" style="width:50%">
            <img class="mySlides" src="images/distributions/picture9.png" style="width:50%">
            <img class="mySlides" src="images/distributions/picture10.png" style="width:50%">
            <img class="mySlides" src="images/distributions/picture11.png" style="width:50%">
            <img class="mySlides" src="images/distributions/picture12.png" style="width:50%">


            <button class="degree_norm" onclick="plusDivs(-1)">&#10094;</button>
            <button class="degree_norm" onclick="plusDivs(1)">&#10095;</button>
        </div>
        <div class='alluvial'>
            <h1>Alluvial diagram</h1>
                <p>The alluvial diagram shows the temporal changes in communities over months from January-June.
                </p>
          <div id="1d178830-2005-446d-bce5-aa6f6ea5fb23" style="width: 990px; height: 800px;" class="plotly-graph-div"></div>
        <script type="text/javascript">
            (function(){
                window.PLOTLYENV={'BASE_URL': 'https://plot.ly'};

                var gd = document.getElementById('1d178830-2005-446d-bce5-aa6f6ea5fb23')
                var resizeDebounce = null;

                function resizePlot() {
                    var bb = gd.getBoundingClientRect();
                    Plotly.relayout(gd, {
                        width: bb.width,
                        height: bb.height
                    });
                }

                

                
                Plotly.plot(gd,  {
                    data: figure.data,
                    layout: figure.layout,
                    frames: figure.frames,
                    config: {"mapboxAccessToken": "pk.eyJ1IjoiY2hyaWRkeXAiLCJhIjoiY2lxMnVvdm5iMDA4dnhsbTQ5aHJzcGs0MyJ9.X9o_rzNLNesDxdra4neC_A", "linkText": "Export to plot.ly", "showLink": true}
                });
                
           }());
        </script>
    </div>

    </div>

        
       

<script>
var slideIndex = 1;
var slideIndex2 = 1;
showDivs1(slideIndex);
showDivs2(slideIndex);

function plusDivs(n) {
  showDivs1(slideIndex += n); 
}

function plusDivs1(n){
    showDivs2(slideIndex2 += n);
}

function showDivs1(n) {
  var i;
  var x = document.getElementsByClassName("mySlides");
  if (n > x.length) {slideIndex = 1}    
  if (n < 1) {slideIndex = x.length}
  for (i = 0; i < x.length; i++) {
     x[i].style.display = "none";  
  }
  x[slideIndex-1].style.display = "block";  
}

function showDivs2(n) {
  var j;
  var y = document.getElementsByClassName("mySlideslog");
  if (n > y.length) {slideIndex2 = 1}    
  if (n < 1) {slideIndex2 = y.length}
  for (i = 0; i < y.length; i++) {
     y[i].style.display = "none";  
  }
  y[slideIndex2-1].style.display = "block";  
}
</script>
    </body>
</html>